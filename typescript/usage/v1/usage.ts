//
// This file is AUTO-GENERATED by protoc-gen-ts.
// Do not modify it manually.
///
import api from '../../api'
import * as googleTypes from '../../googleTypes'
import { ListOptions as arangodb_cloud_common_v1_ListOptions } from '../../common/v1/common'

// File: usage/v1/usage.proto
// Package: arangodb.cloud.usage.v1

// Request arguments for ListUsageItems
export interface ListUsageItemsRequest {
  // Request usage items for the organization with this id.
  // This is a required field.
  // string
  organization_id?: string;
  
  // Request usage items that overlaps in time with the time period that starts with this timestamp (inclusive).
  // This is a required field.
  // googleTypes.Timestamp
  from?: googleTypes.Timestamp;
  
  // Request usage items that overlaps in time with the time period that ends with this timestamp (inclusive).
  // This is a required field.
  // googleTypes.Timestamp
  to?: googleTypes.Timestamp;
  
  // Standard list options
  // This is an optional field.
  // arangodb.cloud.common.v1.ListOptions
  options?: arangodb_cloud_common_v1_ListOptions;
  
  // Limit to usage items for the resource with this URL.
  // This is an optional field.
  // string
  resource_url?: string;
  
  // Limit to usage items for the resource with this kind.
  // This is an optional field.
  // string
  resource_kind?: string;
  
  // Limit to usage items for the project with this id.
  // This is an optional field.
  // string
  project_id?: string;
  
  // Limit to usage items for the deployment with this id.
  // This is an optional field.
  // string
  deployment_id?: string;
}

// A UsageItem message contained usage tracking information for a tracked
// resource (usually deployment) in a specific time period.
export interface UsageItem {
  // System identifier of the usage item.
  // string
  id?: string;
  
  // URL of this resource
  // string
  url?: string;
  
  // Kind of usage item
  // string
  kind?: string;
  
  // Identification of the resource covered by this usage item
  // UsageItem_Resource
  resource?: UsageItem_Resource;
  
  // This usage item covers a time period that starts at this timestamp
  // googleTypes.Timestamp
  starts_at?: googleTypes.Timestamp;
  
  // This usage item covers a time period that ends at this timestamp.
  // If the usage item has not yet ended, this field is is set to the current time.
  // googleTypes.Timestamp
  ends_at?: googleTypes.Timestamp;
  
  // Set when this usage item has ended.
  // boolean
  has_ended?: boolean;
  
  // Amount of (computer) resources used by the resource covered by this usage item.
  // This field is only set when the usage item is of kind DeploymentSize.
  // UsageItem_DeploymentSize
  deployment_size?: UsageItem_DeploymentSize;
  
  // Amount of network traffic used by the resource covered by this usage item.
  // This field is only set when the usage item is of kind NetworkTransferSize.
  // UsageItem_NetworkTransferSize
  network_transfer_size?: UsageItem_NetworkTransferSize;
}
export interface UsageItem_DeploymentSize {
  // Number of coordinators of the deployment
  // number
  coordinators?: number;
  
  // Amount of memory (in GB) allocated for each coordinator.
  // number
  coordinator_memory_size?: number;
  
  // Number of dbservers of the deployment
  // number
  dbservers?: number;
  
  // Amount of memory (in GB) allocated for each dbserver.
  // number
  dbserver_memory_size?: number;
  
  // Amount of disk space (in GB) allocated for each dbserver.
  // number
  dbserver_disk_size?: number;
  
  // Number of agents of the deployment
  // number
  agents?: number;
  
  // Amount of memory (in GB) allocated for each agent.
  // number
  agent_memory_size?: number;
  
  // Amount of disk space (in GB) allocated for each agent.
  // number
  agent_disk_size?: number;
}
export interface UsageItem_NetworkTransferSize {
  // Amount of network traffic (in bytes) caused by the use of a deployment.
  // number
  transfer_size?: number;
}
export interface UsageItem_Resource {
  // System identifier of the resource that this usage item covers.
  // string
  id?: string;
  
  // URL of the resource that this usage item covers
  // string
  url?: string;
  
  // Kind of resource that this usage item covers.
  // string
  kind?: string;
  
  // Human readable description of the resource that this usage item covers.
  // string
  description?: string;
  
  // Identifier of the organization that owns the resource that this usage item covers.
  // string
  organization_id?: string;
  
  // Name of the organization that owns the resource that this usage item covers.
  // string
  organization_name?: string;
  
  // Identifier of the project that owns the resource that this usage item covers.
  // string
  project_id?: string;
  
  // Name of the project that owns the resource that this usage item covers.
  // string
  project_name?: string;
  
  // Identifier of the deployment that owns the resource that this usage item covers.
  // string
  deployment_id?: string;
  
  // Name of the deployment that owns the resource that this usage item covers.
  // string
  deployment_name?: string;
  
  // Name of the deployment member that owns the resource that this usage item covers.
  // This field is only set when the usage item is specific for a member of the deployment (e.g. network transfer)
  // string
  deployment_member_name?: string;
}

// List of UsageItems.
export interface UsageItemList {
  // UsageItem
  items?: UsageItem[];
}

// UsageService is the API used to fetch usage tracking information.
export class UsageService {
  // Fetch all UsageItem resources in the organization identified by the given
  // organization ID that match the given criteria.
  // Required permissions:
  // - usage.usageitem.list on the organization identified by the given organization ID
  async ListUsageItems(req: ListUsageItemsRequest): Promise<UsageItemList> {
    const path = `/api/usage/v1/organization/${encodeURIComponent(req.organization_id || '')}/usageitems`;
    const url = path + api.queryString(req, [`organization_id`]);
    return api.get(url, undefined);
  }
}
